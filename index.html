
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>متجر اكسسوارات الموبايل</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#10B981', // Emerald-500
            'primary-hover': '#059669', // Emerald-600
            secondary: '#3B82F6', // Blue-500
            'secondary-hover': '#2563EB', // Blue-600
            dark: {
              900: '#111827', // Gray-900
              800: '#1F2937', // Gray-800
              700: '#374151', // Gray-700
            },
            light: {
              100: '#F3F4F6', // Gray-100
              200: '#E5E7EB', // Gray-200
            }
          },
          fontFamily: {
            sans: ['Tajawal', 'sans-serif'], // Example Arabic font
          },
          animation: {
            'fade-in-up': 'fadeInUp 0.5s ease-out',
            'subtle-pulse': 'subtlePulse 2s infinite ease-in-out',
            'slide-in-left': 'slideInLeft 0.5s ease-out forwards',
            'slide-in-right': 'slideInRight 0.3s ease-out forwards',
            'slide-out-right': 'slideOutRight 0.3s ease-out forwards',
            'fade-in': 'fadeIn 0.3s ease-out forwards',
            'fade-out': 'fadeOut 0.3s ease-out forwards',
          },
          keyframes: {
            fadeInUp: {
              '0%': { opacity: '0', transform: 'translateY(20px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' },
            },
            subtlePulse: {
              '0%, 100%': { opacity: '1' },
              '50%': { opacity: '.7' },
            },
            slideInLeft: {
              '0%': { transform: 'translateX(-100%)', opacity: '0' },
              '100%': { transform: 'translateX(0)', opacity: '1' },
            },
            slideInRight: {
              '0%': { transform: 'translateX(100%)', opacity: '0.9' },
              '100%': { transform: 'translateX(0)', opacity: '1' },
            },
            slideOutRight: {
              '0%': { transform: 'translateX(0)', opacity: '1' },
              '100%': { transform: 'translateX(100%)', opacity: '0' },
            },
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            fadeOut: {
              '0%': { opacity: '1' },
              '100%': { opacity: '0' },
            },
             fadeOutUp: { /* Added for modal content specific fade out */
              '0%': { opacity: '1', transform: 'translateY(0)' },
              '100%': { opacity: '0', transform: 'translateY(-20px)' },
            },
          }
        }
      }
    }
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Tajawal', sans-serif;
    }
    /* Modal and Cart Panel specific animation classes for better control */
    .modal-overlay.animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }
    .modal-overlay.animate-fade-out { animation: fadeOut 0.3s ease-out forwards; }
    .modal-content.animate-fade-in-up { animation: fadeInUp 0.3s ease-out forwards; }
    .modal-content.animate-fade-out-up { animation: fadeOutUp 0.3s ease-out forwards; }

    .cart-panel.animate-slide-in-right { animation: slideInRight 0.3s ease-out forwards; }
    .cart-panel.animate-slide-out-right { animation: slideOutRight 0.3s ease-out forwards; }
  </style>
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@^19.1.0",
    "react-dom/client": "https://esm.sh/react-dom@^19.1.0/client",
    "@google/genai": "https://esm.sh/@google/genai",
    "react/": "https://esm.sh/react@^19.1.0/",
    "react-dom/": "https://esm.sh/react-dom@^19.1.0/"
  }
}
</script>
</head>
<body class="bg-dark-900 text-light-100">
  <div id="root"></div>
  <script type="module">
    import React, { useState, useEffect, useCallback, useMemo, StrictMode } from 'react';
    import ReactDOM, { createRoot } from 'react-dom/client';

    // --- START OF CONVERTED types.ts ---
    const ProductCategory = {
      All: "All",
      Chargers: "Chargers",
      Cables: "Cables",
      FlashDrives: "FlashDrives",
      Keyboards: "Keyboards",
      BluetoothHeadphones: "BluetoothHeadphones",
      WiredHeadphones: "WiredHeadphones",
      ComputerSpeakers: "ComputerSpeakers",
      MobileCases: "MobileCases",
      Mice: "Mice",
      Other: "OtherAccessories",
    };

    const SortOption = {
      Default: "default",
      Newest: "newest",
      NameAZ: "name_az",
      NameZA: "name_za",
      PriceLowHigh: "price_lh",
      PriceHighLow: "price_hl",
    };
    // --- END OF CONVERTED types.ts ---

    // --- START OF CONVERTED constants.ts ---
    const CATEGORIES = [
      { id: ProductCategory.All, arabicName: "الكل" },
      { id: ProductCategory.Chargers, arabicName: "شواحن" },
      { id: ProductCategory.Cables, arabicName: "وصلات" },
      { id: ProductCategory.PowerBank, arabicName: " باور بنك" },
      { id: ProductCategory.FlashDrives, arabicName: "فلاشات" },
      { id: ProductCategory.Keyboards, arabicName: "لوحة مفاتيح" },
      { id: ProductCategory.BluetoothHeadphones, arabicName: "سماعات بلوتوث" },
      { id: ProductCategory.WiredHeadphones, arabicName: "سماعات سلكية" },
      { id: ProductCategory.ComputerSpeakers, arabicName: "سماعات كمبيوتر" },
      { id: ProductCategory.MobileCases, arabicName: "جرابات موبايل" },
      { id: ProductCategory.Mice, arabicName: "ماوس" },
      { id: ProductCategory.Other, arabicName: " أخرى" },
    ];

    const SAMPLE_PRODUCTS = [
      {
        id: "1",
        name: "Fast Charger Pro",
        arabicName: "شاحن سريع برو",
        category: ProductCategory.Chargers,
        price: 120,
        imageUrl: "https://picsum.photos/seed/charger1/400/300",
        rating: 4.5,
        reviews: 150,
        isNew: true,
        description: "شاحن فائق السرعة بتقنية الشحن الذكي لحماية جهازك. يوفر طاقة تصل إلى 45 واط.",
      },
      {
        id: "2",
        name: "USB-C Cable Nylon Braided",
        arabicName: "كابل USB-C نايلون مجدول",
        category: ProductCategory.Cables,
        price: 60,
        imageUrl: "https://picsum.photos/seed/cable1/400/300",
        rating: 4.2,
        reviews: 90,
        discountPrice: 50,
        isNew: true,
        description: "كابل USB-C متين ومقاوم للتشابك، مصنوع من النايلون المجدول عالي الجودة. طول 1.5 متر.",
      },
      {
        id: "3",
        name: "128GB Flash Drive",
        arabicName: "فلاش ميموري 128 جيجا",
        category: ProductCategory.FlashDrives,
        price: 150,
        imageUrl: "https://picsum.photos/seed/flash1/400/300",
        rating: 4.8,
        reviews: 200,
        discountPrice: 130,
        isNew: true,
        description: "فلاش ميموري USB 3.1 بسعة 128 جيجابايت لنقل البيانات بسرعة وأمان.",
      },
      {
        id: "4",
        name: "Mechanical Gaming Keyboard",
        arabicName: "لوحة مفاتيح ميكانيكية للألعاب",
        category: ProductCategory.Keyboards,
        price: 350,
        imageUrl: "https://picsum.photos/seed/keyboard1/400/300",
        rating: 4.7,
        reviews: 120,
        description: "لوحة مفاتيح ميكانيكية بإضاءة RGB قابلة للتخصيص ومفاتيح سريعة الاستجابة لتجربة ألعاب مثالية.",
      },
      {
        id: "5",
        name: "Noise Cancelling Bluetooth Headphones",
        arabicName: "سماعات بلوتوث عازلة للضوضاء",
        category: ProductCategory.BluetoothHeadphones,
        price: 450,
        imageUrl: "https://picsum.photos/seed/btheadphones1/400/300",
        rating: 4.9,
        reviews: 300,
        isNew: true,
        description: "سماعات رأس لاسلكية بتقنية بلوتوث 5.0 وإلغاء ضوضاء نشط للاستمتاع بصوت نقي وغامر.",
      },
      {
        id: "6",
        name: "In-Ear Wired Headphones",
        arabicName: "سماعات سلكية داخل الأذن",
        category: ProductCategory.WiredHeadphones,
        price: 80,
        imageUrl: "https://picsum.photos/seed/wiredheadphones1/400/300",
        rating: 4.0,
        reviews: 75,
        description: "سماعات أذن سلكية بتصميم مريح وجودة صوت عالية، مع ميكروفون مدمج للمكالمات.",
      },
      {
        id: "7",
        name: "2.1 Computer Speakers",
        arabicName: "سماعات كمبيوتر 2.1",
        category: ProductCategory.ComputerSpeakers,
        price: 280,
        imageUrl: "https://picsum.photos/seed/speakers1/400/300",
        rating: 4.3,
        reviews: 60,
        description: "نظام سماعات كمبيوتر 2.1 مع مضخم صوت قوي لتجربة صوتية محسّنة للألعاب والأفلام.",
      },
      {
        id: "13",
        name: "Silicone Mobile Case iPhone 15",
        arabicName: "جراب سيليكون لآيفون 15",
        category: ProductCategory.MobileCases,
        price: 90,
        imageUrl: "https://picsum.photos/seed/case1/400/300",
        rating: 4.6,
        reviews: 180,
        discountPrice: 75,
        description: "جراب سيليكون مرن وناعم الملمس لهاتف آيفون 15، يوفر حماية ممتازة من الخدوش والصدمات.",
      },
      {
        id: "9",
        name: "Wireless Ergonomic Mouse",
        arabicName: "ماوس لاسلكي مريح",
        category: ProductCategory.Mice,
        price: 180,
        imageUrl: "https://picsum.photos/seed/mouse1/400/300",
        rating: 4.4,
        reviews: 110,
        description: "ماوس لاسلكي بتصميم مريح يقلل من إجهاد اليد، مع دقة قابلة للتعديل وأزرار إضافية.",
      },
      {
        id: "10",
        name: "Universal Phone Holder",
        arabicName: "حامل هاتف عالمي",
        category: ProductCategory.Other,
        price: 70,
        imageUrl: "https://picsum.photos/seed/holder1/400/300",
        rating: 4.1,
        reviews: 50,
        isNew: true,
        description: "حامل هاتف مرن وقابل للتعديل للاستخدام في السيارة أو على المكتب، متوافق مع معظم الهواتف.",
      },
      {
        id: "11",
        name: "Power Bank 10000mAh",
        arabicName: "باور بانك 10000 مللي أمبير",
        category: ProductCategory.Chargers,
        price: 200,
        imageUrl: "https://2b.com.eg/media/catalog/product/cache/661473ab953cdcdf4c3b607144109b90/m/p/mp330-min.jpg",
        rating: 4.7,
        reviews: 220,
        description: "باور بانك محمول بسعة 10000 مللي أمبير مع منافذ شحن متعددة لشحن أجهزتك أثناء التنقل.",
      },
      {
        id: "12",
        name: "HDMI Cable 2M",
        arabicName: "كابل HDMI طول 2 متر",
        category: ProductCategory.Cables,
        price: 95,
        imageUrl: "https://picsum.photos/seed/hdmicable/400/300",
        rating: 4.3,
        reviews: 85,
        description: "كابل HDMI عالي السرعة بطول 2 متر، يدعم دقة 4K لنقل الصوت والصورة بجودة فائقة.",
      },
      {
        id: "8",
        name: "Power Bank 20000mAh",
        arabicName: "   باور بانك 20000 مللي أمبير",
        category: ProductCategory.PowerBank,
        price: 80,
        imageUrl: "https://picsum.photos/seed/hdmicable/400/300",
        rating: 4.3,
        reviews: 85,
        description: "باور بانك محمول بسعة 20000 مللي أمبير مع منافذ شحن متعددة لشحن أجهزتك أثناء التنقل.",
      }
    ];

    const SORT_OPTIONS = [
      { value: SortOption.Default, label: "الترتيب الافتراضي" },
      { value: SortOption.Newest, label: "الأحدث أولاً" },
      { value: SortOption.NameAZ, label: "الاسم (أ - ي)" },
      { value: SortOption.NameZA, label: "الاسم (ي - أ)" },
      { value: SortOption.PriceLowHigh, label: "السعر (من الأقل للأعلى)" },
      { value: SortOption.PriceHighLow, label: "السعر (من الأعلى للأقل)" },
    ];
    // --- END OF CONVERTED constants.ts ---

    // --- START OF ICON COMPONENTS ---
    const ShoppingCartIcon = ({ className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: className || "w-6 h-6" },
        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" })
      );
    };

    const StarIcon = ({ filled, className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: filled ? "currentColor" : "none", stroke: "currentColor", strokeWidth: filled ? 0 : 1.5, className: className || "w-5 h-5 text-yellow-400" },
        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.479.038.674.656.317.942l-4.006 3.512a.563.563 0 0 0-.162.522l1.26 5.33c.127.538-.431.966-.904.664l-4.859-2.966a.562.562 0 0 0-.546 0l-4.859 2.966c-.473.302-1.031-.126-.904-.664l1.26-5.33a.563.563 0 0 0-.162-.522l-4.006-3.512c-.357-.286-.162-.904.317-.942l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" })
      );
    };
    
    const WhatsAppIcon = ({ className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 24 24", fill: "currentColor", className: className || "w-6 h-6", "aria-hidden": "true" },
        React.createElement("path", { d: "M12.04 2C6.58 2 2.13 6.45 2.13 11.91C2.13 13.66 2.59 15.33 3.43 16.79L2 22L7.32 20.58C8.72 21.33 10.34 21.78 12.04 21.78C17.5 21.78 21.95 17.33 21.95 11.87C21.95 6.41 17.5 2 12.04 2ZM12.04 20.13C10.56 20.13 9.13 19.74 7.91 19.02L7.53 18.79L4.32 19.58L5.14 16.46L4.89 16.07C4.08 14.78 3.66 13.28 3.66 11.76C3.66 7.36 7.42 3.64 12.04 3.64C16.66 3.64 20.42 7.36 20.42 11.91C20.42 16.47 16.66 20.13 12.04 20.13ZM17.01 14.6C16.76 14.48 15.54 13.9 15.31 13.81C15.08 13.72 14.91 13.68 14.75 13.93C14.59 14.18 14.08 14.75 13.93 14.91C13.77 15.08 13.62 15.1 13.37 14.98C13.12 14.86 12.13 14.53 10.97 13.5C10.05 12.69 9.47 11.71 9.32 11.46C9.16 11.21 9.28 11.08 9.41 10.95C9.52 10.84 9.66 10.66 9.79 10.5C9.91 10.34 9.96 10.23 10.07 10.02C10.19 9.81 10.13 9.64 10.05 9.49C9.96 9.34 9.44 8.06 9.21 7.52C8.99 7 8.76 7.04 8.6 7.03C8.45 7.03 8.28 7.03 8.12 7.03C7.96 7.03 7.71 7.09 7.49 7.34C7.27 7.59 6.77 8.07 6.77 9.12C6.77 10.17 7.52 11.15 7.64 11.31C7.77 11.47 9.18 13.72 11.41 14.62C12.09 14.9 12.59 15.05 12.98 15.14C13.51 15.26 13.97 15.23 14.32 15.17C14.72 15.09 15.73 14.49 15.94 14.24C16.15 13.99 16.15 13.79 16.1 13.68C16.04 13.57 15.89 13.51 15.73 13.43C15.56 13.34 15.4 13.3 15.23 13.21C15.06 13.12 14.89 13.06 14.75 13.06C14.61 13.06 14.47 13.12 14.34 13.24L14.34 13.24C17.26 14.75 17.13 14.71 17.01 14.6Z" })
      );
    };

    const GridViewIcon = ({ className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: className || "w-6 h-6" },
        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25A2.25 2.25 0 0113.5 8.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z" })
      );
    };

    const ListViewIcon = ({ className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: className || "w-6 h-6" },
        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" })
      );
    };

    const CloseIcon = ({ className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: className || "w-6 h-6" },
        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M6 18L18 6M6 6l12 12" })
      );
    };

    const PlusIcon = ({ className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: className || "w-5 h-5" },
        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M12 4.5v15m7.5-7.5h-15" })
      );
    };

    const MinusIcon = ({ className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: className || "w-5 h-5" },
        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M19.5 12h-15" })
      );
    };

    const TrashIcon = ({ className }) => {
      return React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: className || "w-5 h-5" },
        React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12.56 0c1.153 0 2.243.096 3.298.26m-3.298-.26L5 5m0 0c.075.21.158.415.25.608M5 5a5.002 5.002 0 014.48-3.997h1.04a5 5 0 014.48 3.997M5 5L4.68 3.607A1.875 1.875 0 016.482 2h11.036a1.875 1.875 0 011.802 1.607L19 5M5 5h14" })
      );
    };

    const GoogleIcon = ({ className }) => {
      return React.createElement("svg", { className: className || "w-5 h-5", viewBox: "0 0 24 24", fill: "currentColor", xmlns: "http://www.w3.org/2000/svg" },
        React.createElement("path", { d: "M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z", fill: "#4285F4" }),
        React.createElement("path", { d: "M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z", fill: "#34A853" }),
        React.createElement("path", { d: "M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z", fill: "#FBBC05" }),
        React.createElement("path", { d: "M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z", fill: "#EA4335" }),
        React.createElement("path", { d: "M1 1h22v22H1z", fill: "none" })
      );
    };

    const FacebookIcon = ({ className }) => {
      return React.createElement("svg", { className: className || "w-5 h-5", viewBox: "0 0 24 24", fill: "#1877F2", xmlns: "http://www.w3.org/2000/svg" },
        React.createElement("path", { d: "M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" })
      );
    };
    // --- END OF ICON COMPONENTS ---

    // --- START OF StarRating.tsx ---
    const StarRating = ({ rating, totalStars = 5, className }) => {
      return React.createElement("div", { className: `flex items-center ${className || ''}` },
        [...Array(totalStars)].map((_, index) => {
          const starValue = index + 1;
          return React.createElement(StarIcon, {
            key: index,
            filled: starValue <= rating,
            className: "w-4 h-4 sm:w-5 sm:h-5 text-yellow-400"
          });
        })
      );
    };
    // --- END OF StarRating.tsx ---

    // --- START OF WhatsAppFAB.tsx ---
    const WhatsAppFAB = () => {
      const WHATSAPP_LINK = "https://api.whatsapp.com/send/?phone=201159478033&text&type=phone_number&app_absent=0&wame_ctl=1";

      return React.createElement("a", {
        href: WHATSAPP_LINK,
        target: "_blank",
        rel: "noopener noreferrer",
        "aria-label": "تواصل معنا عبر واتساب",
        className: "fixed bottom-6 right-6 sm:bottom-8 sm:right-8 z-[100] bg-[#25D366] hover:bg-[#128C7E] text-white p-3 sm:p-4 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 flex items-center justify-center",
        title: "تواصل معنا عبر واتساب"
      }, React.createElement(WhatsAppIcon, { className: "w-6 h-6 sm:w-7 sm:h-7" }));
    };
    // --- END OF WhatsAppFAB.tsx ---

    // --- START OF ProductCard.tsx ---
    const ProductCard = ({ product, onAddToCart, onViewDetails }) => {
      const handleAddToCartClick = (e) => {
        e.stopPropagation();
        onAddToCart(product);
      };

      const handleViewDetailsClick = () => {
        onViewDetails(product);
      };

      return React.createElement("div", {
          className: "bg-dark-800 rounded-xl shadow-2xl overflow-hidden transition-all duration-300 hover:shadow-primary/30 hover:transform hover:-translate-y-2 group flex flex-col h-full cursor-pointer",
          onClick: handleViewDetailsClick,
          role: "button",
          tabIndex: 0,
          onKeyDown: (e) => { if (e.key === 'Enter' || e.key === ' ') handleViewDetailsClick(); },
          "aria-label": `عرض تفاصيل ${product.arabicName}`
        },
        React.createElement("div", { className: "relative" },
          React.createElement("img", {
            src: product.imageUrl,
            alt: product.name,
            className: "w-full h-56 sm:h-64 object-cover transition-transform duration-500 group-hover:scale-110"
          }),
          product.isNew && React.createElement("span", { className: "absolute top-3 right-3 bg-secondary text-white text-xs font-semibold px-2.5 py-1 rounded-full" }, "جديد"),
          product.discountPrice && React.createElement("span", { className: "absolute top-3 left-3 bg-red-500 text-white text-xs font-semibold px-2.5 py-1 rounded-full" }, "خصم!")
        ),
        React.createElement("div", { className: "p-5 flex flex-col flex-grow" },
          React.createElement("h3", { className: "text-lg sm:text-xl font-semibold text-light-100 mb-2 truncate group-hover:text-primary transition-colors" }, product.arabicName),
          React.createElement("div", { className: "flex items-center mb-3" },
            React.createElement(StarRating, { rating: product.rating }),
            React.createElement("span", { className: "text-xs text-gray-400 mr-2" }, `(${product.reviews} مراجعات)`)
          ),
          React.createElement("div", { className: "mb-4 mt-auto" },
            product.discountPrice ? (
              React.createElement("div", { className: "flex items-baseline space-x-2 space-x-reverse" },
                React.createElement("p", { className: "text-xl sm:text-2xl font-bold text-primary" }, `${product.discountPrice} جم`),
                React.createElement("p", { className: "text-sm text-gray-400 line-through" }, `${product.price} جم`)
              )
            ) : (
              React.createElement("p", { className: "text-xl sm:text-2xl font-bold text-primary" }, `${product.price} جم`)
            )
          ),
          React.createElement("button", {
            onClick: handleAddToCartClick,
            className: "w-full bg-primary hover:bg-primary-hover text-white font-semibold py-2.5 px-4 rounded-lg transition-all duration-300 flex items-center justify-center space-x-2 space-x-reverse transform opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0",
            "aria-label": `أضف ${product.arabicName} إلى السلة`
          }, React.createElement(ShoppingCartIcon, { className: "w-5 h-5" }), React.createElement("span", null, "أضف إلى السلة")),
          React.createElement("button", {
            onClick: handleAddToCartClick,
            className: "w-full mt-2 bg-dark-700 hover:bg-secondary text-light-100 font-semibold py-2.5 px-4 rounded-lg transition-all duration-300 md:hidden group-hover:hidden flex items-center justify-center space-x-2 space-x-reverse",
            "aria-label": `أضف ${product.arabicName} إلى السلة`
          }, React.createElement(ShoppingCartIcon, { className: "w-5 h-5" }), React.createElement("span", null, "أضف إلى السلة"))
        )
      );
    };
    // --- END OF ProductCard.tsx ---
    
    // --- START OF ProductListItem.tsx ---
    const ProductListItem = ({ product, onAddToCart, onViewDetails }) => {
      const handleAddToCartClick = (e) => {
        e.stopPropagation();
        onAddToCart(product);
      };

      const handleViewDetailsClick = () => {
        onViewDetails(product);
      };

      return React.createElement("div", {
          className: "bg-dark-800 rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-primary/20 flex flex-col sm:flex-row cursor-pointer",
          onClick: handleViewDetailsClick,
          role: "button",
          tabIndex: 0,
          onKeyDown: (e) => { if (e.key === 'Enter' || e.key === ' ') handleViewDetailsClick(); },
          "aria-label": `عرض تفاصيل ${product.arabicName}`
        },
        React.createElement("img", {
          src: product.imageUrl,
          alt: product.name,
          className: "w-full sm:w-1/3 md:w-1/4 h-48 sm:h-auto object-cover"
        }),
        React.createElement("div", { className: "p-5 flex flex-col flex-grow justify-between" },
          React.createElement("div", null,
            React.createElement("h3", { className: "text-xl sm:text-2xl font-semibold text-light-100 mb-2 hover:text-primary transition-colors" }, product.arabicName),
            React.createElement("div", { className: "flex items-center mb-1" },
              React.createElement(StarRating, { rating: product.rating }),
              React.createElement("span", { className: "text-sm text-gray-400 mr-2" }, `(${product.reviews} مراجعات)`)
            ),
            React.createElement("p", { className: "text-sm text-gray-400 mb-3 line-clamp-2" }, product.description || "وصف المنتج غير متوفر حاليا.")
          ),
          React.createElement("div", { className: "flex flex-col sm:flex-row sm:items-center sm:justify-between mt-4" },
            product.discountPrice ? (
              React.createElement("div", { className: "flex items-baseline space-x-2 space-x-reverse mb-3 sm:mb-0" },
                React.createElement("p", { className: "text-2xl sm:text-3xl font-bold text-primary" }, `${product.discountPrice} جم`),
                React.createElement("p", { className: "text-md text-gray-400 line-through" }, `${product.price} جم`)
              )
            ) : (
              React.createElement("p", { className: "text-2xl sm:text-3xl font-bold text-primary mb-3 sm:mb-0" }, `${product.price} جم`)
            ),
            React.createElement("button", {
              onClick: handleAddToCartClick,
              className: "w-full sm:w-auto bg-primary hover:bg-primary-hover text-white font-semibold py-2.5 px-6 rounded-lg transition-all duration-300 flex items-center justify-center space-x-2 space-x-reverse",
              "aria-label": `أضف ${product.arabicName} إلى السلة`
            }, React.createElement(ShoppingCartIcon, { className: "w-5 h-5" }), React.createElement("span", null, "أضف إلى السلة"))
          )
        )
      );
    };
    // --- END OF ProductListItem.tsx ---

    // --- START OF Header.tsx ---
    const Header = ({ onCartClick, cartItemCount, currentUser, onLoginClick, onLogout }) => {
      const [isScrolled, setIsScrolled] = useState(false);
      const [mobileMenuOpen, setMobileMenuOpen] = useState(false);

      useEffect(() => {
        const handleScroll = () => {
          setIsScrolled(window.scrollY > 20);
        };
        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
      }, []);

      const navLinks = [
        { name: 'الرئيسية', href: '#' },
        { name: 'المنتجات', href: '#products' },
        { name: 'عروض خاصة', href: '#promo' },
        { name: 'اتصل بنا', href: '#footer' },
      ];

      return React.createElement("header", {
          className: `fixed top-0 left-0 right-0 z-50 transition-all duration-300 ease-in-out ${isScrolled ? 'bg-dark-800/90 shadow-lg backdrop-blur-md' : 'bg-transparent'}`
        },
        React.createElement("div", { className: "container mx-auto px-4 sm:px-6 lg:px-8" },
          React.createElement("div", { className: "flex items-center justify-between h-16 sm:h-20" },
            React.createElement("div", { className: "flex items-center" },
              React.createElement("a", { href: "#", className: "text-2xl sm:text-3xl font-bold text-primary" }, "اكسسواراتي")
            ),
            React.createElement("nav", { className: "hidden md:flex space-x-reverse space-x-8 lg:space-x-10" },
              navLinks.map((link) =>
                React.createElement("a", {
                  key: link.name,
                  href: link.href,
                  onClick: () => setMobileMenuOpen(false),
                  className: "text-light-100 hover:text-primary transition-colors duration-200 text-sm lg:text-base font-medium"
                }, link.name)
              )
            ),
            React.createElement("div", { className: "flex items-center space-x-3 sm:space-x-4" },
              currentUser ? (
                React.createElement("div", { className: "relative group" },
                  React.createElement("button", { className: "flex items-center text-light-100 hover:text-primary" },
                    React.createElement("span", { className: "mr-2 text-sm hidden sm:inline" }, currentUser.name),
                    React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 20 20", fill: "currentColor", className: "w-5 h-5" },
                       React.createElement("path", { fillRule: "evenodd", d: "M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-5.5-2.5a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0zM10 12a5.99 5.99 0 00-4.793 2.39A6.483 6.483 0 0010 16.5a6.483 6.483 0 004.793-2.11A5.99 5.99 0 0010 12z", clipRule: "evenodd" })
                    )
                  ),
                  React.createElement("div", { className: "absolute left-0 mt-2 w-48 bg-dark-700 rounded-md shadow-lg py-1 hidden group-hover:block" },
                    React.createElement("span", { className: "block sm:hidden px-4 py-2 text-sm text-light-200" }, currentUser.name),
                    React.createElement("button", {
                      onClick: onLogout,
                      className: "block w-full text-left px-4 py-2 text-sm text-light-100 hover:bg-dark-600 hover:text-primary"
                    }, "تسجيل الخروج")
                  )
                )
              ) : (
                React.createElement("button", {
                  onClick: onLoginClick,
                  className: "text-light-100 hover:text-primary transition-colors duration-200 text-sm font-medium"
                }, "تسجيل الدخول")
              ),
              React.createElement("button", {
                  onClick: onCartClick,
                  "aria-label": "View Cart",
                  className: "relative text-light-100 hover:text-primary transition-colors duration-200"
                },
                React.createElement(ShoppingCartIcon, { className: "w-5 h-5 sm:w-6 sm:h-6" }),
                cartItemCount > 0 && (
                  React.createElement("span", { className: "absolute -top-2 -right-2 bg-secondary text-white text-xs font-bold rounded-full px-1.5 py-0.5 min-w-[20px] text-center" }, cartItemCount)
                )
              ),
              React.createElement("div", { className: "md:hidden" },
                React.createElement("button", {
                  onClick: () => setMobileMenuOpen(!mobileMenuOpen),
                  className: "text-light-100 hover:text-primary transition-colors duration-200",
                  "aria-label": "Open menu"
                },
                  React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: "w-6 h-6" },
                    React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" })
                  )
                )
              )
            )
          )
        ),
        mobileMenuOpen && (
          React.createElement("div", { className: "md:hidden bg-dark-800/95 backdrop-blur-md absolute top-full left-0 right-0 shadow-lg animate-slide-in-left" },
            React.createElement("nav", { className: "flex flex-col items-center space-y-4 py-4" },
              navLinks.map((link) =>
                React.createElement("a", {
                  key: link.name,
                  href: link.href,
                  onClick: () => setMobileMenuOpen(false),
                  className: "text-light-100 hover:text-primary transition-colors duration-200 py-2 text-lg"
                }, link.name)
              )
            )
          )
        )
      );
    };
    // --- END OF Header.tsx ---

    // --- START OF HeroSection.tsx ---
    const HeroSection = () => {
      return React.createElement("section", {
          className: "min-h-screen flex items-center justify-center bg-gradient-to-br from-dark-900 via-dark-800 to-dark-700 text-light-100 py-20 pt-32 sm:pt-20 relative overflow-hidden"
        },
        React.createElement("div", { className: "absolute inset-0 opacity-10" },
          React.createElement("img", { src: "https://picsum.photos/seed/hero-bg/1920/1080", alt: "Background", className: "w-full h-full object-cover" })
        ),
        React.createElement("div", { className: "container mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10" },
          React.createElement("h1", {
              className: "text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6 animate-fade-in-up",
              style: { animationDelay: '0.2s' }
            },
            React.createElement("span", { className: "bg-clip-text text-transparent bg-gradient-to-r from-primary to-secondary" }, "أحدث اكسسوارات"), " الموبايل بين يديك"
          ),
          React.createElement("p", {
              className: "text-lg sm:text-xl md:text-2xl text-light-200 max-w-2xl mx-auto mb-10 animate-fade-in-up",
              style: { animationDelay: '0.4s' }
            },
            "اكتشف مجموعتنا المختارة من الشواحن، السماعات، الكفرات، والمزيد بأفضل الأسعار والجودة."
          ),
          React.createElement("div", {
              className: "animate-fade-in-up",
              style: { animationDelay: '0.6s' }
            },
            React.createElement("a", {
                href: "#products",
                className: "bg-primary hover:bg-primary-hover text-white font-semibold py-3 px-8 sm:py-4 sm:px-10 rounded-lg text-lg sm:text-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"
              },
              "تسوق الآن"
            )
          )
        ),
        React.createElement("div", { className: "absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-dark-900 to-transparent z-0" }),
        React.createElement("div", { className: "absolute -bottom-16 -left-16 w-64 h-64 bg-secondary/10 rounded-full filter blur-3xl animate-subtle-pulse" }),
        React.createElement("div", { className: "absolute -top-16 -right-16 w-72 h-72 bg-primary/10 rounded-full filter blur-3xl animate-subtle-pulse animation-delay-1000" })
      );
    };
    // --- END OF HeroSection.tsx ---

    // --- START OF CategoryTabs.tsx ---
    const CategoryTabs = ({ categories, selectedCategory, onSelectCategory }) => {
      return React.createElement("div", { className: "py-8 sm:py-12 bg-dark-800" },
        React.createElement("div", { className: "container mx-auto px-4 sm:px-6 lg:px-8" },
          React.createElement("h2", { className: "text-2xl sm:text-3xl font-bold text-center mb-6 sm:mb-8 text-light-100" }, "تصفح حسب الفئة"),
          React.createElement("div", { className: "flex flex-wrap justify-center gap-2 sm:gap-3 lg:gap-4" },
            categories.map((category) =>
              React.createElement("button", {
                key: category.id,
                onClick: () => onSelectCategory(category.id),
                className: `px-4 py-2 sm:px-6 sm:py-2.5 rounded-lg text-sm sm:text-base font-medium transition-all duration-300 transform hover:scale-105 ${selectedCategory === category.id ? 'bg-primary text-white shadow-md' : 'bg-dark-700 text-light-200 hover:bg-primary/70 hover:text-white'}`
              }, category.arabicName)
            )
          )
        )
      );
    };
    // --- END OF CategoryTabs.tsx ---
    
    // --- START OF ProductGrid.tsx ---
    const ProductGrid = ({ products, onAddToCart, onViewDetails, viewMode, onViewModeChange, sortOption, onSortChange }) => {
      if (products.length === 0) {
        return React.createElement("div", { className: "text-center py-12 container mx-auto px-4 sm:px-6 lg:px-8" },
          React.createElement("p", { className: "text-xl text-gray-400" }, "لا توجد منتجات تطابق هذا الفلتر أو خيار الفرز.")
        );
      }

      return React.createElement("div", { id: "products", className: "py-12 sm:py-16 bg-dark-900" },
        React.createElement("div", { className: "container mx-auto px-4 sm:px-6 lg:px-8" },
          React.createElement("div", { className: "flex flex-col sm:flex-row justify-between items-center mb-10 sm:mb-12" },
            React.createElement("h2", { className: "text-3xl sm:text-4xl font-bold text-light-100 mb-4 sm:mb-0 text-center sm:text-right" }, "منتجاتنا المميزة"),
            React.createElement("div", { className: "flex items-center space-x-2 space-x-reverse" },
              React.createElement("select", {
                  value: sortOption,
                  onChange: (e) => onSortChange(e.target.value),
                  className: "bg-dark-700 text-light-100 border border-dark-600 rounded-md p-2 focus:ring-primary focus:border-primary text-sm",
                  "aria-label": "فرز المنتجات"
                },
                SORT_OPTIONS.map(option => React.createElement("option", { key: option.value, value: option.value }, option.label))
              ),
              React.createElement("button", {
                  onClick: () => onViewModeChange('grid'),
                  title: "عرض شبكي",
                  "aria-pressed": viewMode === 'grid',
                  className: `p-2 rounded-md ${viewMode === 'grid' ? "bg-primary text-white" : "bg-dark-700 text-light-200 hover:bg-dark-600"}`
                }, React.createElement(GridViewIcon, { className: "w-5 h-5" })
              ),
              React.createElement("button", {
                  onClick: () => onViewModeChange('list'),
                  title: "عرض قائمة",
                  "aria-pressed": viewMode === 'list',
                  className: `p-2 rounded-md ${viewMode === 'list' ? "bg-primary text-white" : "bg-dark-700 text-light-200 hover:bg-dark-600"}`
                }, React.createElement(ListViewIcon, { className: "w-5 h-5" })
              )
            )
          ),
          viewMode === 'grid' ? (
            React.createElement("div", { className: "grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 sm:gap-8" },
              products.map((product, index) =>
                React.createElement("div", {
                    key: product.id,
                    className: "animate-fade-in-up",
                    style: { animationDelay: `${index * 0.05}s` }
                  },
                  React.createElement(ProductCard, { product: product, onAddToCart: onAddToCart, onViewDetails: onViewDetails })
                )
              )
            )
          ) : (
            React.createElement("div", { className: "space-y-6 sm:space-y-8" },
              products.map((product, index) =>
                React.createElement("div", {
                    key: product.id,
                    className: "animate-fade-in-up",
                    style: { animationDelay: `${index * 0.05}s` }
                  },
                  React.createElement(ProductListItem, { product: product, onAddToCart: onAddToCart, onViewDetails: onViewDetails })
                )
              )
            )
          )
        )
      );
    };
    // --- END OF ProductGrid.tsx ---

    // --- START OF PromoBanner.tsx ---
    const PromoBanner = () => {
      return React.createElement("section", { id: "promo", className: "py-16 sm:py-20 bg-gradient-to-r from-primary to-secondary text-white" },
        React.createElement("div", { className: "container mx-auto px-4 sm:px-6 lg:px-8 text-center" },
          React.createElement("h2", { className: "text-3xl sm:text-4xl font-bold mb-4 animate-fade-in-up", style: { animationDelay: '0.2s' } }, "عروض حصرية لا تفوت!"),
          React.createElement("p", { className: "text-lg sm:text-xl mb-8 max-w-2xl mx-auto animate-fade-in-up", style: { animationDelay: '0.4s' } }, "استفد من خصوماتنا المذهلة على مجموعة مختارة من الاكسسوارات. تسوق الآن ووفر أكثر!"),
          React.createElement("div", { className: "animate-fade-in-up", style: { animationDelay: '0.6s' } },
            React.createElement("a", {
                href: "#products",
                className: "bg-white text-primary hover:bg-gray-100 font-bold py-3 px-8 sm:py-4 sm:px-10 rounded-lg text-lg sm:text-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105"
              },
              "اكتشف العروض"
            )
          )
        )
      );
    };
    // --- END OF PromoBanner.tsx ---

    // --- START OF Footer.tsx ---
    const Footer = () => {
      const currentYear = new Date().getFullYear();

      return React.createElement("footer", { id: "footer", className: "bg-dark-800 text-gray-300 py-12 sm:py-16" },
        React.createElement("div", { className: "container mx-auto px-4 sm:px-6 lg:px-8" },
          React.createElement("div", { className: "grid grid-cols-1 md:grid-cols-3 gap-8 mb-8" },
            React.createElement("div", null,
              React.createElement("h3", { className: "text-xl font-bold text-primary mb-4" }, "اكسسواراتي"),
              React.createElement("p", { className: "text-sm text-gray-400" }, "متجرك الأول لأفضل اكسسوارات الموبايل والأجهزة الإلكترونية. جودة عالية بأسعار تنافسية.")
            ),
            React.createElement("div", null,
              React.createElement("h4", { className: "text-lg font-semibold text-light-100 mb-4" }, "روابط سريعة"),
              React.createElement("ul", { className: "space-y-2" },
                React.createElement("li", null, React.createElement("a", { href: "#", className: "hover:text-primary transition-colors" }, "عنا")),
                React.createElement("li", null, React.createElement("a", { href: "#products", className: "hover:text-primary transition-colors" }, "المنتجات")),
                React.createElement("li", null, React.createElement("a", { href: "#", className: "hover:text-primary transition-colors" }, "سياسة الخصوصية")),
                React.createElement("li", null, React.createElement("a", { href: "#", className: "hover:text-primary transition-colors" }, "الشروط والأحكام"))
              )
            ),
            React.createElement("div", null,
              React.createElement("h4", { className: "text-lg font-semibold text-light-100 mb-4" }, "تواصل معنا"),
              React.createElement("ul", { className: "space-y-2 text-sm" },
                React.createElement("li", { className: "text-gray-400" }, "البريد الإلكتروني: info@ اكسسواراتي.com"),
                React.createElement("li", { className: "text-gray-400" }, "الهاتف: +20 115 947 8033")
              ),
              React.createElement("div", { className: "flex space-x-4 mt-4 space-x-reverse" },
                React.createElement("a", { href: "#", "aria-label": "Facebook", className: "text-gray-400 hover:text-primary transition-colors" },
                  React.createElement("svg", { className: "w-6 h-6", fill: "currentColor", viewBox: "0 0 24 24", "aria-hidden": "true" }, React.createElement("path", { fillRule: "evenodd", d: "M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z", clipRule: "evenodd" }))
                ),
                React.createElement("a", { href: "#", "aria-label": "Instagram", className: "text-gray-400 hover:text-primary transition-colors" },
                  React.createElement("svg", { className: "w-6 h-6", fill: "currentColor", viewBox: "0 0 24 24", "aria-hidden": "true" }, React.createElement("path", { fillRule: "evenodd", d: "M12.315 2.014a.825.825 0 01.37.024 10.82 10.82 0 012.498.331c.478.096.94.235 1.384.42l.02.008.024.01c.46.198.896.44 1.3.73l.004.003.025.018a7.088 7.088 0 012.073 2.073l.018.025.003.004c.29.404.532.84.73 1.3l.01.024.008.02c.185.444.324.906.42 1.384a10.82 10.82 0 01.332 2.498.825.825 0 01-.001.689 10.825 10.825 0 01-.33 2.498c-.096.478-.235.94-.42 1.384l-.02.008-.024.01a6.89 6.89 0 01-.73 1.3l-.004.003-.025.018a7.09 7.09 0 01-2.073 2.073l-.018.025-.003.004a6.89 6.89 0 01-1.3.73l-.024.01-.008.02a10.823 10.823 0 01-2.498.332.825.825 0 01-.689-.001 10.827 10.827 0 01-2.498-.33 10.827 10.827 0 01-1.384-.42l-.008-.02-.01-.024a6.89 6.89 0 01-.73-1.3l-.003-.004-.018-.025a7.09 7.09 0 01-2.073-2.073l-.025-.018-.004-.003a6.89 6.89 0 01-.73-1.3l-.01-.024-.02-.008a10.825 10.825 0 01-.42-1.384A10.823 10.823 0 012.014 12.315a.825.825 0 01.024-.37 10.82 10.82 0 01.331-2.498c.096-.478.235-.94.42-1.384l.02-.008.024-.01c.198-.46.44-.896.73-1.3l.004-.003.025-.018A7.088 7.088 0 017.64 3.01l.018-.025.003-.004A6.89 6.89 0 019.015 2.25l.024-.01.008-.02c.444-.185.906-.324 1.384-.42A10.82 10.82 0 0112 .014a.825.825 0 01.315 0zm-1.06 4.013a.75.75 0 100-1.5.75.75 0 000 1.5zM12 6.825A5.175 5.175 0 1012 17.175 5.175 5.175 0 0012 6.825zM4.825 12a7.175 7.175 0 1114.35 0 7.175 7.175 0 01-14.35 0z", clipRule: "evenodd" }))
                ),
                React.createElement("a", { href: "#", "aria-label": "Twitter", className: "text-gray-400 hover:text-primary transition-colors" },
                  React.createElement("svg", { className: "w-6 h-6", fill: "currentColor", viewBox: "0 0 24 24", "aria-hidden": "true" }, React.createElement("path", { d: "M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84" }))
                )
              )
            )
          ),
          React.createElement("div", { className: "border-t border-dark-700 pt-8 text-center text-sm text-gray-500" },
            React.createElement("p", null, `© ${currentYear} اكسسواراتي. جميع الحقوق محفوظة.`)
          )
        )
      );
    };
    // --- END OF Footer.tsx ---

    // --- START OF ProductDetailView.tsx ---
    const ProductDetailView = ({ product, onAddToCart, onBack }) => {
      return React.createElement("div", { className: "container mx-auto px-4 sm:px-6 lg:px-8 py-12 pt-24 sm:pt-32 animate-fade-in" },
        React.createElement("button", {
            onClick: onBack,
            className: "mb-8 text-primary hover:text-primary-hover font-semibold flex items-center space-x-2 space-x-reverse transition-colors"
          },
          React.createElement("svg", { xmlns: "http://www.w3.org/2000/svg", fill: "none", viewBox: "0 0 24 24", strokeWidth: 1.5, stroke: "currentColor", className: "w-5 h-5 transform rtl:rotate-180" },
            React.createElement("path", { strokeLinecap: "round", strokeLinejoin: "round", d: "M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18" })
          ),
          React.createElement("span", null, "العودة إلى المنتجات")
        ),
        React.createElement("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12 items-start" },
          React.createElement("div", { className: "bg-dark-800 p-4 sm:p-6 rounded-xl shadow-xl" },
            React.createElement("img", {
              src: product.imageUrl,
              alt: product.name,
              className: "w-full h-auto max-h-[500px] object-contain rounded-lg"
            })
          ),
          React.createElement("div", { className: "space-y-6" },
            React.createElement("h1", { className: "text-3xl sm:text-4xl font-bold text-light-100" }, product.arabicName),
            React.createElement("div", { className: "flex items-center space-x-4 space-x-reverse" },
              React.createElement(StarRating, { rating: product.rating, className: "text-xl" }),
              React.createElement("span", { className: "text-gray-400" }, `(${product.reviews} مراجعات)`),
              product.isNew && React.createElement("span", { className: "bg-secondary text-white text-sm font-semibold px-3 py-1 rounded-full" }, "جديد")
            ),
            React.createElement("div", null,
              product.discountPrice ? (
                React.createElement("div", { className: "flex items-baseline space-x-3 space-x-reverse" },
                  React.createElement("p", { className: "text-3xl sm:text-4xl font-bold text-primary" }, `${product.discountPrice} جم`),
                  React.createElement("p", { className: "text-xl text-gray-400 line-through" }, `${product.price} جم`)
                )
              ) : (
                React.createElement("p", { className: "text-3xl sm:text-4xl font-bold text-primary" }, `${product.price} جم`)
              )
            ),
            React.createElement("div", { className: "prose prose-invert text-gray-300 max-w-none" },
              React.createElement("h2", { className: "text-xl font-semibold text-light-100 mb-2" }, "الوصف:"),
              React.createElement("p", null, product.description || 'لا يوجد وصف متوفر لهذا المنتج حاليًا.')
            ),
            React.createElement("button", {
                onClick: () => onAddToCart(product),
                className: "w-full sm:w-auto bg-primary hover:bg-primary-hover text-white font-bold py-3 px-8 rounded-lg text-lg transition-colors duration-300 flex items-center justify-center space-x-2 space-x-reverse",
                "aria-label": `أضف ${product.arabicName} إلى السلة`
              },
              React.createElement(ShoppingCartIcon, { className: "w-6 h-6" }),
              React.createElement("span", null, "أضف إلى السلة")
            )
          )
        )
      );
    };
    // --- END OF ProductDetailView.tsx ---

    // --- START OF CartView.tsx ---
    const CartView = ({ isOpen, onClose, cartItems, onUpdateQuantity, onRemoveItem, onCheckoutRequest }) => {
      const [isRendered, setIsRendered] = useState(isOpen);
      const [animationClass, setAnimationClass] = useState('');

      useEffect(() => {
        if (isOpen) {
          setIsRendered(true);
          requestAnimationFrame(() => {
            setAnimationClass('animate-slide-in-right');
          });
        } else if (isRendered) {
          setAnimationClass('animate-slide-out-right');
          const timer = setTimeout(() => {
            setIsRendered(false);
          }, 300);
          return () => clearTimeout(timer);
        }
      }, [isOpen, isRendered]);

      const totalPrice = useMemo(() =>
        cartItems.reduce((sum, item) => sum + (item.product.discountPrice || item.product.price) * item.quantity, 0)
      , [cartItems]);

      const handleOverlayClick = (e) => {
        if (e.target === e.currentTarget) {
          onClose();
        }
      };

      if (!isRendered && !isOpen) {
        return null;
      }

      return React.createElement("div", {
          className: `fixed inset-0 z-[100] flex justify-end ${isRendered ? '' : 'hidden'}`,
          role: "dialog",
          "aria-modal": "true",
          "aria-labelledby": "cart-title"
        },
        React.createElement("div", {
          className: `absolute inset-0 bg-black/50 backdrop-blur-sm transition-opacity duration-300 ${isOpen && animationClass === 'animate-slide-in-right' ? "opacity-100" : "opacity-0"}`,
          onClick: handleOverlayClick,
          "aria-hidden": "true"
        }),
        React.createElement("div", {
            className: `cart-panel fixed top-0 bottom-0 right-0 w-full max-w-md bg-dark-800 shadow-xl flex flex-col text-light-100 ${animationClass}`
          },
          React.createElement("div", { className: "flex items-center justify-between p-5 sm:p-6 border-b border-dark-700" },
            React.createElement("h2", { id: "cart-title", className: "text-xl sm:text-2xl font-semibold text-primary" }, "سلة التسوق"),
            React.createElement("button", { onClick: onClose, "aria-label": "إغلاق السلة", className: "text-gray-400 hover:text-white" },
              React.createElement(CloseIcon, { className: "w-6 h-6" })
            )
          ),
          cartItems.length === 0 ? (
            React.createElement("div", { className: "flex-grow flex flex-col items-center justify-center p-6 text-center" },
              React.createElement(ShoppingCartIcon, { className: "w-16 h-16 text-gray-500 mb-4" }),
              React.createElement("p", { className: "text-xl text-gray-400 mb-6" }, "سلتك فارغة حالياً."),
              React.createElement("button", {
                  onClick: onClose,
                  className: "bg-primary hover:bg-primary-hover text-white font-semibold py-2.5 px-6 rounded-lg transition-colors"
                },
                "ابدأ التسوق"
              )
            )
          ) : (
            React.createElement(React.Fragment, null,
              React.createElement("div", { className: "flex-grow overflow-y-auto p-5 sm:p-6 space-y-4" },
                cartItems.map(item =>
                  React.createElement("div", { key: item.product.id, className: "flex items-start space-x-4 space-x-reverse bg-dark-700 p-3 sm:p-4 rounded-lg" },
                    React.createElement("img", { src: item.product.imageUrl, alt: item.product.name, className: "w-20 h-20 sm:w-24 sm:h-24 object-cover rounded-md flex-shrink-0" }),
                    React.createElement("div", { className: "flex-grow" },
                      React.createElement("h3", { className: "text-md sm:text-lg font-semibold text-light-100 mb-1" }, item.product.arabicName),
                      React.createElement("p", { className: "text-sm text-primary font-bold mb-2" }, `${item.product.discountPrice || item.product.price} جم`),
                      React.createElement("div", { className: "flex items-center" },
                        React.createElement("button", {
                            onClick: () => onUpdateQuantity(item.product.id, item.quantity - 1),
                            "aria-label": "تقليل الكمية",
                            className: "p-1.5 text-gray-300 hover:text-white bg-dark-600 rounded-md disabled:opacity-50",
                            disabled: item.quantity <= 1
                          }, React.createElement(MinusIcon, { className: "w-4 h-4" })
                        ),
                        React.createElement("span", { className: "px-3 text-sm font-medium w-10 text-center" }, item.quantity),
                        React.createElement("button", {
                            onClick: () => onUpdateQuantity(item.product.id, item.quantity + 1),
                            "aria-label": "زيادة الكمية",
                            className: "p-1.5 text-gray-300 hover:text-white bg-dark-600 rounded-md"
                          }, React.createElement(PlusIcon, { className: "w-4 h-4" })
                        )
                      )
                    ),
                    React.createElement("button", {
                        onClick: () => onRemoveItem(item.product.id),
                        "aria-label": "إزالة المنتج",
                        className: "text-gray-400 hover:text-red-500 self-start pt-1"
                      }, React.createElement(TrashIcon, { className: "w-5 h-5" })
                    )
                  )
                )
              ),
              React.createElement("div", { className: "p-5 sm:p-6 border-t border-dark-700" },
                React.createElement("div", { className: "flex justify-between items-center mb-4" },
                  React.createElement("span", { className: "text-lg text-gray-300" }, "الإجمالي:"),
                  React.createElement("span", { className: "text-2xl font-bold text-primary" }, `${totalPrice.toFixed(2)} جم`)
                ),
                React.createElement("button", { 
                    onClick: () => onCheckoutRequest(totalPrice),
                    className: "w-full bg-primary hover:bg-primary-hover text-white font-semibold py-3 rounded-lg transition-colors mb-2" 
                }, "إتمام الشراء"),
                React.createElement("button", {
                    onClick: onClose,
                    className: "w-full bg-dark-700 hover:bg-dark-600 text-light-100 font-semibold py-3 rounded-lg transition-colors"
                  },
                  "متابعة التسوق"
                )
              )
            )
          )
        )
      );
    };
    // --- END OF CartView.tsx ---

    // --- START OF LoginModal.tsx ---
    const LoginModal = ({ isOpen, onClose, onLoginSuccess }) => {
      const [isRendered, setIsRendered] = useState(isOpen);
      const [overlayAnimation, setOverlayAnimation] = useState('');
      const [contentAnimation, setContentAnimation] = useState('');

      useEffect(() => {
        if (isOpen) {
          setIsRendered(true);
          requestAnimationFrame(() => {
            setOverlayAnimation('animate-fade-in');
            setContentAnimation('animate-fade-in-up');
          });
        } else if (isRendered) {
          setOverlayAnimation('animate-fade-out');
          setContentAnimation('animate-fade-out-up');
          const timer = setTimeout(() => {
            setIsRendered(false);
          }, 300);
          return () => clearTimeout(timer);
        }
      }, [isOpen, isRendered]);

      const handleSocialLogin = (provider) => {
        console.log(`Simulating login with ${provider}...`);
        const dummyUser = {
          name: provider === 'google' ? "مستخدم جوجل" : "مستخدم فيسبوك",
          email: `${provider.toLowerCase()}user@example.com`,
          provider: provider,
        };
        onLoginSuccess(dummyUser);
      };
      
      const handleOverlayClick = (e) => {
        if (e.target === e.currentTarget) {
          onClose();
        }
      };

      if (!isRendered && !isOpen) {
        return null;
      }

      return React.createElement("div", {
          className: `fixed inset-0 z-[110] flex items-center justify-center p-4 ${isRendered ? '' : 'hidden'}`,
          role: "dialog",
          "aria-modal": "true",
          "aria-labelledby": "login-title"
        },
        React.createElement("div", {
          className: `modal-overlay absolute inset-0 bg-black/60 backdrop-blur-sm ${overlayAnimation}`,
          onClick: handleOverlayClick,
          "aria-hidden": "true"
        }),
        React.createElement("div", {
            className: `modal-content bg-dark-800 rounded-xl shadow-2xl p-6 sm:p-8 w-full max-w-md relative ${contentAnimation}`
          },
          React.createElement("button", {
              onClick: onClose,
              "aria-label": "إغلاق",
              className: "absolute top-4 left-4 text-gray-400 hover:text-white p-1"
            }, React.createElement(CloseIcon, { className: "w-5 h-5 sm:w-6 sm:h-6" })
          ),
          React.createElement("h2", { id: "login-title", className: "text-2xl sm:text-3xl font-bold text-center text-primary mb-6" }, "تسجيل الدخول"),
          React.createElement("p", { className: "text-center text-gray-300 mb-8" }, "مرحبًا بك مجددًا! اختر طريقة تسجيل الدخول."),
          React.createElement("div", { className: "space-y-4" },
            React.createElement("button", {
                onClick: () => handleSocialLogin('google'),
                className: "w-full flex items-center justify-center space-x-3 space-x-reverse bg-white hover:bg-gray-100 text-gray-700 font-medium py-3 px-4 rounded-lg shadow-sm transition-colors",
                "aria-label": "تسجيل الدخول باستخدام جوجل"
              }, React.createElement(GoogleIcon, { className: "w-5 h-5" }), React.createElement("span", null, "تسجيل الدخول باستخدام جوجل")
            ),
            React.createElement("button", {
                onClick: () => handleSocialLogin('facebook'),
                className: "w-full flex items-center justify-center space-x-3 space-x-reverse bg-[#1877F2] hover:bg-[#166FE5] text-white font-medium py-3 px-4 rounded-lg shadow-sm transition-colors",
                "aria-label": "تسجيل الدخول باستخدام فيسبوك"
              }, React.createElement(FacebookIcon, { className: "w-5 h-5 text-white" }), React.createElement("span", null, "تسجيل الدخول باستخدام فيسبوك")
            ),
            React.createElement("p", { className: "text-xs text-center text-gray-500 pt-4" },
              "بالتسجيل، أنت توافق على شروط الخدمة و سياسة الخصوصية.",
              React.createElement("br"),
              React.createElement("span", { className: "text-red-400"}, "(هذا تسجيل دخول تجريبي لأغراض العرض)")
            )
          )
        )
      );
    };
    // --- END OF LoginModal.tsx ---

    // --- START OF CheckoutModal.tsx ---
    const CheckoutModal = ({ isOpen, onClose, totalAmount, onCompleteOrder }) => {
      const [isRendered, setIsRendered] = useState(isOpen);
      const [overlayAnimation, setOverlayAnimation] = useState('');
      const [contentAnimation, setContentAnimation] = useState('');

      useEffect(() => {
        if (isOpen) {
          setIsRendered(true);
          requestAnimationFrame(() => {
            setOverlayAnimation('animate-fade-in');
            setContentAnimation('animate-fade-in-up');
          });
        } else if (isRendered) {
          setOverlayAnimation('animate-fade-out');
          setContentAnimation('animate-fade-out-up');
          const timer = setTimeout(() => setIsRendered(false), 300);
          return () => clearTimeout(timer);
        }
      }, [isOpen, isRendered]);

      const handleCompleteOrderClick = () => {
        const message = `مرحباً، لقد قمت بإتمام طلب بقيمة ${totalAmount.toFixed(2)} جنيه مصري. هذا هو إيصال الدفع.`;
        const whatsappUrl = `https://api.whatsapp.com/send/?phone=201159478033&text=${encodeURIComponent(message)}`;
        window.open(whatsappUrl, '_blank');
        onCompleteOrder();
      };
      
      const handleOverlayClick = (e) => {
        if (e.target === e.currentTarget) {
          onClose();
        }
      };

      if (!isRendered && !isOpen) return null;

      return React.createElement("div", {
          className: `fixed inset-0 z-[110] flex items-center justify-center p-4 ${isRendered ? '' : 'hidden'}`,
          role: "dialog",
          "aria-modal": "true",
          "aria-labelledby": "checkout-title"
        },
        React.createElement("div", {
          className: `modal-overlay absolute inset-0 bg-black/60 backdrop-blur-sm ${overlayAnimation}`,
          onClick: handleOverlayClick,
          "aria-hidden": "true"
        }),
        React.createElement("div", {
            className: `modal-content bg-dark-800 rounded-xl shadow-2xl p-6 sm:p-8 w-full max-w-lg relative ${contentAnimation}`
          },
          React.createElement("button", {
              onClick: onClose,
              "aria-label": "إغلاق",
              className: "absolute top-4 left-4 text-gray-400 hover:text-white p-1"
            }, React.createElement(CloseIcon, {className: "w-5 h-5 sm:w-6 sm:h-6"})
          ),
          React.createElement("h2", { id: "checkout-title", className: "text-2xl sm:text-3xl font-bold text-center text-primary mb-6" }, "إتمام عملية الشراء"),
          React.createElement("p", { className: "text-lg text-center text-light-100 mb-4" }, 
            "برجاء إرسال مبلغ ", 
            React.createElement("strong", {className: "text-primary"}, `${totalAmount.toFixed(2)} جنيه مصري`), 
            " لإتمام عملية الشراء."
          ),
          React.createElement("div", { className: "text-sm text-gray-300 mb-6 space-y-3 bg-dark-700 p-4 rounded-lg" },
            React.createElement("p", { className: "font-semibold text-light-100" }, "يمكنك الدفع بإحدى الطرق التالية:"),
            React.createElement("ul", { className: "list-none space-y-2 pr-2" },
              React.createElement("li", null, 
                React.createElement("strong", { className: "text-primary" }, "● فودافون كاش: "),
                "قم بتحويل المبلغ إلى الرقم: ", React.createElement("strong", { className: "text-light-100" }, "01026146714")
              ),
              React.createElement("li", null, 
                React.createElement("strong", { className: "text-primary" }, "● إنستاباي (InstaPay): "),
                "قم بتحويل المبلغ إلى الحساب: ", React.createElement("strong", { className: "text-light-100" }, 
                "abdo-bakr@instapay")
              )
            )
          ),
          React.createElement("p", { className: "text-xs text-yellow-400 text-center mb-8 bg-dark-700/50 p-3 rounded-md border border-yellow-500/50" }, 
            React.createElement("strong", null, "ملاحظة هامة: "), 
            "قبل الضغط على \"إكمال الطلب\"، يرجى التأكد من تحويل المبلغ المطلوب أولاً. بعد التحويل، اضغط على \"إكمال الطلب\" وسيتم توجيهك إلى واتساب لإرسال إيصال الدفع."
          ),
          React.createElement("div", { className: "flex flex-col sm:flex-row-reverse gap-3" },
            React.createElement("button", {
              onClick: handleCompleteOrderClick,
              className: "w-full sm:flex-1 bg-primary hover:bg-primary-hover text-white font-semibold py-3 px-4 rounded-lg transition-colors"
            }, "إكمال الطلب"),
            React.createElement("button", {
              onClick: onClose,
              className: "w-full sm:flex-1 bg-dark-600 hover:bg-dark-700 text-light-100 font-semibold py-3 px-4 rounded-lg transition-colors"
            }, "إلغاء الطلب")
          )
        )
      );
    };
    // --- END OF CheckoutModal.tsx ---

    // --- START OF App.tsx ---
    const App = () => {
      const [products, setProducts] = useState(SAMPLE_PRODUCTS);
      const [filteredAndSortedProducts, setFilteredAndSortedProducts] = useState(SAMPLE_PRODUCTS);
      const [selectedCategory, setSelectedCategory] = useState(ProductCategory.All);

      const [cartItems, setCartItems] = useState([]);
      const [isCartOpen, setIsCartOpen] = useState(false);

      const [viewMode, setViewMode] = useState('grid');
      const [sortOption, setSortOption] = useState(SortOption.Default);

      const [currentUser, setCurrentUser] = useState(null);
      const [isLoginModalOpen, setIsLoginModalOpen] = useState(false);
      const [isCheckoutModalOpen, setIsCheckoutModalOpen] = useState(false);
      const [checkoutAmount, setCheckoutAmount] = useState(0);

      const [detailedProduct, setDetailedProduct] = useState(null);

      useEffect(() => {
        try {
          const storedUser = localStorage.getItem('currentUser');
          if (storedUser) {
            setCurrentUser(JSON.parse(storedUser));
          }
        } catch (error) {
            console.error("Failed to parse user from localStorage", error);
            localStorage.removeItem('currentUser');
        }
        try {
          const storedCart = localStorage.getItem('cartItems');
          if (storedCart) {
            setCartItems(JSON.parse(storedCart));
          }
        } catch (error) {
          console.error("Failed to parse cart from localStorage", error);
          localStorage.removeItem('cartItems');
        }
      }, []);

      useEffect(() => {
        try {
          localStorage.setItem('cartItems', JSON.stringify(cartItems));
        } catch (error) {
          console.error("Failed to save cart to localStorage", error);
        }
      }, [cartItems]);

      useEffect(() => {
        let tempProducts = products;

        if (selectedCategory !== ProductCategory.All) {
          tempProducts = tempProducts.filter(p => p.category === selectedCategory);
        }

        const sorted = [...tempProducts].sort((a, b) => {
          switch (sortOption) {
            case SortOption.Newest:
              return (b.isNew ? 1 : 0) - (a.isNew ? 1 : 0);
            case SortOption.NameAZ:
              return a.arabicName.localeCompare(b.arabicName, 'ar');
            case SortOption.NameZA:
              return b.arabicName.localeCompare(a.arabicName, 'ar');
            case SortOption.PriceLowHigh:
              return (a.discountPrice || a.price) - (b.discountPrice || b.price);
            case SortOption.PriceHighLow:
              return (b.discountPrice || b.price) - (a.discountPrice || a.price);
            case SortOption.Default:
            default:
              return parseInt(a.id) - parseInt(b.id);
          }
        });
        setFilteredAndSortedProducts(sorted);
      }, [selectedCategory, products, sortOption]);

      const handleSelectCategory = (category) => {
        setSelectedCategory(category);
        setDetailedProduct(null);
      };

      const handleAddToCart = useCallback((productToAdd) => {
        setCartItems(prevItems => {
          const existingItem = prevItems.find(item => item.product.id === productToAdd.id);
          if (existingItem) {
            return prevItems.map(item =>
              item.product.id === productToAdd.id
                ? { ...item, quantity: item.quantity + 1 }
                : item
            );
          }
          return [...prevItems, { product: productToAdd, quantity: 1 }];
        });
      }, []);

      const handleUpdateQuantity = useCallback((productId, quantity) => {
        setCartItems(prevItems => {
          if (quantity <= 0) {
            return prevItems.filter(item => item.product.id !== productId);
          }
          return prevItems.map(item =>
            item.product.id === productId
              ? { ...item, quantity: quantity }
              : item
          );
        });
      }, []);

      const handleRemoveFromCart = useCallback((productId) => {
        setCartItems(prevItems => prevItems.filter(item => item.product.id !== productId));
      }, []);

      const cartItemCount = useMemo(() =>
        cartItems.reduce((sum, item) => sum + item.quantity, 0)
      , [cartItems]);

      const handleLoginSuccess = (user) => {
        try {
            localStorage.setItem('currentUser', JSON.stringify(user));
            setCurrentUser(user);
            setIsLoginModalOpen(false);
        } catch (error) {
            console.error("Failed to save user to localStorage", error);
        }
      };

      const handleLogout = () => {
        try {
            localStorage.removeItem('currentUser');
            setCurrentUser(null);
        } catch (error) {
            console.error("Failed to remove user from localStorage", error);
        }
      };

      const handleViewProductDetail = (product) => {
        setDetailedProduct(product);
        window.scrollTo(0, 0);
      };

      const handleBackToProducts = () => {
        setDetailedProduct(null);
      };

      const handleSortChange = (option) => {
        setSortOption(option);
      };

      const handleOpenCheckoutModal = (amount) => {
        setCheckoutAmount(amount);
        setIsCheckoutModalOpen(true);
        setIsCartOpen(false); 
      };

      const handleCloseCheckoutModal = () => {
        setIsCheckoutModalOpen(false);
      };

      const handleOrderCompletion = () => {
        setCartItems([]); 
        setIsCheckoutModalOpen(false);
        console.log("Order completed, cart cleared.");
        // You might want to show a success message here
      };

      return React.createElement("div", { className: "flex flex-col min-h-screen bg-dark-900" },
        React.createElement(Header, {
          onCartClick: () => setIsCartOpen(true),
          cartItemCount: cartItemCount,
          currentUser: currentUser,
          onLoginClick: () => setIsLoginModalOpen(true),
          onLogout: handleLogout
        }),
        React.createElement("main", { className: "flex-grow" },
          detailedProduct ? (
            React.createElement(ProductDetailView, {
              product: detailedProduct,
              onAddToCart: handleAddToCart,
              onBack: handleBackToProducts
            })
          ) : (
            React.createElement(React.Fragment, null,
              React.createElement(HeroSection, null),
              React.createElement(CategoryTabs, {
                categories: CATEGORIES,
                selectedCategory: selectedCategory,
                onSelectCategory: handleSelectCategory
              }),
              React.createElement(ProductGrid, {
                products: filteredAndSortedProducts,
                onAddToCart: handleAddToCart,
                onViewDetails: handleViewProductDetail,
                viewMode: viewMode,
                onViewModeChange: setViewMode,
                sortOption: sortOption,
                onSortChange: handleSortChange
              }),
              React.createElement(PromoBanner, null)
            )
          )
        ),
        React.createElement(Footer, null),
        React.createElement(WhatsAppFAB, null),
        React.createElement(CartView, {
          isOpen: isCartOpen,
          onClose: () => setIsCartOpen(false),
          cartItems: cartItems,
          onUpdateQuantity: handleUpdateQuantity,
          onRemoveItem: handleRemoveFromCart,
          onCheckoutRequest: handleOpenCheckoutModal
        }),
        React.createElement(LoginModal, {
          isOpen: isLoginModalOpen,
          onClose: () => setIsLoginModalOpen(false),
          onLoginSuccess: handleLoginSuccess
        }),
        React.createElement(CheckoutModal, {
          isOpen: isCheckoutModalOpen,
          onClose: handleCloseCheckoutModal,
          totalAmount: checkoutAmount,
          onCompleteOrder: handleOrderCompletion
        })
      );
    };
    // --- END OF App.tsx ---

    // --- START OF index.tsx logic ---
    const rootElement = document.getElementById('root');
    if (!rootElement) {
      throw new Error("Could not find root element to mount to");
    }

    const root = createRoot(rootElement);
    root.render(
      React.createElement(StrictMode, null, React.createElement(App, null))
    );
    // --- END OF index.tsx logic ---
  </script>
</body>
</html>
